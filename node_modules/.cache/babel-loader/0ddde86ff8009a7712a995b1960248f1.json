{"ast":null,"code":"var _jsxFileName = \"/Users/gyul/git/movie-search-app/src/components/modal/moviemodal/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useRecoilState } from 'recoil';\nimport styles from './MovieModal.module.scss';\nimport { favoriteMovieListState } from 'states/movie';\nimport store from 'storejs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ADD_FAVORITES = '즐겨찾기';\nconst DELETE_FAVORITES = '즐겨찾기 제거';\nconst CANCEL = '취소';\nexport const MovieModal = _ref => {\n  _s();\n\n  let {\n    movie,\n    onClose\n  } = _ref;\n  const {\n    Poster,\n    Title,\n    Year,\n    Type,\n    imdbID\n  } = movie;\n  const [favoriteMovieList, setFavoriteMovieList] = useRecoilState(favoriteMovieListState);\n\n  const isFavorite = () => {\n    return favoriteMovieList.find(item => item.imdbID === imdbID);\n  };\n\n  const setLocalStorage = (key, value) => {\n    store.set(key, value);\n  };\n\n  const addMovie = () => {\n    const newFavorites = isFavorite() ? favoriteMovieList : [...favoriteMovieList, movie];\n    setFavoriteMovieList(newFavorites);\n    setLocalStorage('favoriteMovies', newFavorites);\n  };\n\n  const deleteMovie = () => {\n    const newFavorites = favoriteMovieList.filter(item => item.imdbID !== imdbID);\n    setFavoriteMovieList(newFavorites);\n    setLocalStorage('favoriteMovies', newFavorites);\n  };\n\n  const handleFavoriteButton = e => {\n    const {\n      name\n    } = e.currentTarget;\n\n    if (name === ADD_FAVORITES) {\n      addMovie();\n    } else if (name === DELETE_FAVORITES) {\n      deleteMovie();\n    }\n\n    onClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: styles.background,\n      onClick: onClose,\n      \"aria-label\": \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.modalContainer,\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        className: styles.modal,\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: styles.movie,\n          style: {\n            background: `linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0) 41%, rgba(0, 0, 0, 65%) 100%), url(${Poster}), #1c1c1c`,\n            backgroundSize: '100%, cover',\n            backgroundPosition: 'center, center',\n            backgroundRepeat: 'no-repeat'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.movieTitle,\n            children: Title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.movieInfo,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Year\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), Year]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), Type]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: styles.buttons,\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            name: isFavorite() ? DELETE_FAVORITES : ADD_FAVORITES,\n            onClick: handleFavoriteButton,\n            children: isFavorite() ? DELETE_FAVORITES : ADD_FAVORITES\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            name: CANCEL,\n            onClick: onClose,\n            children: CANCEL\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MovieModal, \"yWrAcr6JJWp6Ulz9zeuxfPC4tv4=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = MovieModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieModal\");","map":{"version":3,"names":["useRecoilState","styles","favoriteMovieListState","store","ADD_FAVORITES","DELETE_FAVORITES","CANCEL","MovieModal","movie","onClose","Poster","Title","Year","Type","imdbID","favoriteMovieList","setFavoriteMovieList","isFavorite","find","item","setLocalStorage","key","value","set","addMovie","newFavorites","deleteMovie","filter","handleFavoriteButton","e","name","currentTarget","background","modalContainer","modal","backgroundSize","backgroundPosition","backgroundRepeat","movieTitle","movieInfo","buttons"],"sources":["/Users/gyul/git/movie-search-app/src/components/modal/moviemodal/index.tsx"],"sourcesContent":["import { useRecoilState } from 'recoil';\nimport styles from './MovieModal.module.scss';\n\nimport { favoriteMovieListState } from 'states/movie';\nimport { IMovie } from 'types/movie.d';\n\nimport store from 'storejs'\n\ninterface Props {\n  movie: IMovie;\n  onClose: () => void;\n}\n\nconst ADD_FAVORITES = '즐겨찾기';\nconst DELETE_FAVORITES = '즐겨찾기 제거';\nconst CANCEL = '취소';\n\nexport const MovieModal = ({ movie, onClose }: Props) => {\n  const { Poster, Title, Year, Type, imdbID } = movie;\n  const [favoriteMovieList, setFavoriteMovieList] = useRecoilState(favoriteMovieListState);\n\n  const isFavorite = () => {\n    return favoriteMovieList.find((item) => item.imdbID === imdbID);\n  };\n\n  const setLocalStorage = (key: string, value: any) => {\n    store.set(key, value)\n  }\n\n  const addMovie = () => {\n    const newFavorites = isFavorite() ? favoriteMovieList : [...favoriteMovieList, movie];\n\n    setFavoriteMovieList(newFavorites);\n    setLocalStorage('favoriteMovies', newFavorites);\n  };\n\n  const deleteMovie = () => {\n    const newFavorites = favoriteMovieList.filter((item) => item.imdbID !== imdbID);\n\n    setFavoriteMovieList(newFavorites);\n    setLocalStorage('favoriteMovies', newFavorites);\n  };\n\n  const handleFavoriteButton = (e: { currentTarget: { name: string } }) => {\n    const { name } = e.currentTarget;\n\n    if (name === ADD_FAVORITES) {\n      addMovie();\n    } else if (name === DELETE_FAVORITES) {\n      deleteMovie();\n    }\n\n    onClose();\n  };\n\n  return (\n    <>\n      <button type='button' className={styles.background} onClick={onClose} aria-label='hidden' />\n      <div className={styles.modalContainer}>\n        <main className={styles.modal}>\n          <section\n            className={styles.movie}\n            style={{\n              background: `linear-gradient(to bottom, rgba(0, 0, 0, 0) 39%, rgba(0, 0, 0, 0) 41%, rgba(0, 0, 0, 65%) 100%), url(${Poster}), #1c1c1c`,\n              backgroundSize: '100%, cover',\n              backgroundPosition: 'center, center',\n              backgroundRepeat: 'no-repeat',\n            }}\n          >\n            <p className={styles.movieTitle}>{Title}</p>\n            <div className={styles.movieInfo}>\n              <p>\n                <strong>Year</strong>\n                <br />\n                {Year}\n              </p>\n              <p>\n                <strong>Type</strong>\n                <br />\n                {Type}\n              </p>\n            </div>\n          </section>\n          <section className={styles.buttons}>\n            <button type='button' name={isFavorite() ? DELETE_FAVORITES : ADD_FAVORITES} onClick={handleFavoriteButton}>\n              {isFavorite() ? DELETE_FAVORITES : ADD_FAVORITES}\n            </button>\n            <button type='button' name={CANCEL} onClick={onClose}>\n              {CANCEL}\n            </button>\n          </section>\n        </main>\n      </div>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}