{"ast":null,"code":"var _jsxFileName = \"/Users/gyul/git/copy/coppy/grip-movie-app/src/routes/movies/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useMemo } from 'react';\nimport { useRecoilState, useRecoilValue, useResetRecoilState } from 'recoil';\nimport { usePrevious } from 'react-use';\nimport { keywordState, pageState, searchResultState, totalCountState } from 'states/movie';\nimport { useFirstRender } from 'hooks';\nimport MovieSearch from './search';\nimport MovieItem from './item';\nimport styles from './movies.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOVIES_PER_PAGE = 10;\n\nconst Movies = () => {\n  _s();\n\n  const keyword = useRecoilValue(keywordState);\n  const [page, setPage] = useRecoilState(pageState);\n  const [totalCount, setTotalCount] = useRecoilState(totalCountState);\n  const [movies, setMovies] = useRecoilState(searchResultState);\n  const resetMovies = useResetRecoilState(searchResultState);\n  const firstRender = useFirstRender();\n  const lastPage = useMemo(() => Math.ceil(totalCount / MOVIES_PER_PAGE), [totalCount]);\n  const prevKeyword = usePrevious(keyword);\n  const prevPage = usePrevious(page);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MovieSearch, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        children: movies.map(movie => /*#__PURE__*/_jsxDEV(MovieItem, {\n          movie: movie\n        }, movie.imdbID, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), !movies.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.noResult,\n        children: \"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Movies, \"VQWKFO9H0ZAlmkRLm/bzxW65CDk=\", false, function () {\n  return [useRecoilValue, useRecoilState, useRecoilState, useRecoilState, useResetRecoilState, useFirstRender, usePrevious, usePrevious];\n});\n\n_c = Movies;\nexport default Movies;\n\nvar _c;\n\n$RefreshReg$(_c, \"Movies\");","map":{"version":3,"names":["useMemo","useRecoilState","useRecoilValue","useResetRecoilState","usePrevious","keywordState","pageState","searchResultState","totalCountState","useFirstRender","MovieSearch","MovieItem","styles","MOVIES_PER_PAGE","Movies","keyword","page","setPage","totalCount","setTotalCount","movies","setMovies","resetMovies","firstRender","lastPage","Math","ceil","prevKeyword","prevPage","map","movie","imdbID","length","noResult"],"sources":["/Users/gyul/git/copy/coppy/grip-movie-app/src/routes/movies/index.tsx"],"sourcesContent":["import { useEffect, useMemo } from 'react'\nimport { useRecoilState, useRecoilValue, useResetRecoilState } from 'recoil'\nimport { usePrevious } from 'react-use'\n\nimport { keywordState, pageState, searchResultState, totalCountState } from 'states/movie'\nimport { useFirstRender } from 'hooks'\nimport { getMovieSearchApi } from 'services/movie'\n\nimport MovieSearch from './search'\nimport MovieItem from './item'\nimport styles from './movies.module.scss'\n\nconst MOVIES_PER_PAGE = 10\n\nconst Movies = () => {\n  const keyword = useRecoilValue(keywordState)\n  const [page, setPage] = useRecoilState(pageState)\n  const [totalCount, setTotalCount] = useRecoilState(totalCountState)\n  const [movies, setMovies] = useRecoilState(searchResultState)\n  const resetMovies = useResetRecoilState(searchResultState)\n\n  const firstRender = useFirstRender()\n  const lastPage = useMemo(() => Math.ceil(totalCount / MOVIES_PER_PAGE), [totalCount])\n  const prevKeyword = usePrevious(keyword)\n  const prevPage = usePrevious(page)\n\n  return (\n    <>\n      <MovieSearch />\n      <main>\n        <ul>\n          {movies.map((movie) => (\n            <MovieItem key={movie.imdbID} movie={movie} />\n          ))}\n        </ul>\n        {!movies.length && <div className={styles.noResult}>검색 결과가 없습니다.</div>}\n      </main>\n    </>\n  )\n}\n\nexport default Movies\n"],"mappings":";;;AAAA,SAAoBA,OAApB,QAAmC,OAAnC;AACA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,mBAAzC,QAAoE,QAApE;AACA,SAASC,WAAT,QAA4B,WAA5B;AAEA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,iBAAlC,EAAqDC,eAArD,QAA4E,cAA5E;AACA,SAASC,cAAT,QAA+B,OAA/B;AAGA,OAAOC,WAAP,MAAwB,UAAxB;AACA,OAAOC,SAAP,MAAsB,QAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;;AAEA,MAAMC,eAAe,GAAG,EAAxB;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAMC,OAAO,GAAGb,cAAc,CAACG,YAAD,CAA9B;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBhB,cAAc,CAACK,SAAD,CAAtC;EACA,MAAM,CAACY,UAAD,EAAaC,aAAb,IAA8BlB,cAAc,CAACO,eAAD,CAAlD;EACA,MAAM,CAACY,MAAD,EAASC,SAAT,IAAsBpB,cAAc,CAACM,iBAAD,CAA1C;EACA,MAAMe,WAAW,GAAGnB,mBAAmB,CAACI,iBAAD,CAAvC;EAEA,MAAMgB,WAAW,GAAGd,cAAc,EAAlC;EACA,MAAMe,QAAQ,GAAGxB,OAAO,CAAC,MAAMyB,IAAI,CAACC,IAAL,CAAUR,UAAU,GAAGL,eAAvB,CAAP,EAAgD,CAACK,UAAD,CAAhD,CAAxB;EACA,MAAMS,WAAW,GAAGvB,WAAW,CAACW,OAAD,CAA/B;EACA,MAAMa,QAAQ,GAAGxB,WAAW,CAACY,IAAD,CAA5B;EAEA,oBACE;IAAA,wBACE,QAAC,WAAD;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA,wBACE;QAAA,UACGI,MAAM,CAACS,GAAP,CAAYC,KAAD,iBACV,QAAC,SAAD;UAA8B,KAAK,EAAEA;QAArC,GAAgBA,KAAK,CAACC,MAAtB;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QADF,EAMG,CAACX,MAAM,CAACY,MAAR,iBAAkB;QAAK,SAAS,EAAEpB,MAAM,CAACqB,QAAvB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANrB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF;EAAA,gBADF;AAaD,CAzBD;;GAAMnB,M;UACYZ,c,EACQD,c,EACYA,c,EACRA,c,EACRE,mB,EAEAM,c,EAEAL,W,EACHA,W;;;KAVbU,M;AA2BN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}